<!DOCTYPE html>
<html lang="en">

  <head>


    <!-- Bootstrap core CSS -->

  <link href="jquery-ui-1.12.1.custom/jquery-ui.css" rel="stylesheet">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Custom styles for this template -->
	<style>
		.slider_wrapper{
			padding: 10px 0px 10px 0px;
		}
	</style>

  </head>

  <body>

    <!-- Navigation -->
    

    <!-- Page Content -->
	<div class="container">

	<div class="col-md-8">
		<div id="timing">
		<h2 class="demoHeaders">LED Color Speed</h2><span id="display_value">100</span>
		<div id="slider"></div>
		</div> <!-- timing -->

		<div id="red_bright">
		<h2 class="demoHeaders"> Red Brightness</h2><span id="display_value"></span>
		<div id="slider"></div>
		</div> <!-- red bright-->

		<div id="green_bright">
		<h2 class="demoHeaders">Green Brightness</h2><span id="display_value"></span>
		<div id="slider"></div>
		</div> <!-- green_bright-->

		<div id="blue_bright" class="slider_wrapper">
			<div  class="col-md-4 demoHeaders">Blue Brightness</div><div class="col-md-1" id="display_value"></div>
		<div class="col-md-6" id="slider"></div>
		</div> <!-- Blue Bright -->

		<div id="red_offset">
		<h2 class="demoHeaders"> Red Offset</h2><span id="display_value"></span>
		<div id="slider"></div>
		</div> <!-- red offset-->
		
		<div id="green_offset">
		<h2 class="demoHeaders">Green Offset</h2><span id="display_value"></span>
		<div id="slider"></div>
		</div> <!-- green offset -->

		<div id="blue_offset">
		<h2 class="demoHeaders">Blue Offset</h2><span id="display_value"></span>
		<div id="slider"></div>
		</div> <!-- blue offset -->

		<div id="min_bright">
		<h2 class="demoHeaders">Minimum Brightness</h2><span id="display_value"></span>
		<div id="slider"></div>
		</div> <!-- Min Brightness -->

		<div id="max_bright">
		<h2 class="demoHeaders">Maximum Brightness</h2><span id="display_value"></span>
		<div id="slider"></div>
		</div> <!-- Max Brightness -->

		<div id="mag">
		<h2 class="demoHeaders">Noise Magnification</h2><span id="display_value"></span>
		<div id="slider"></div>
		</div> <!-- mag -->
	</div>	

	</div>
    <!-- Bootstrap core JavaScript -->

<script src="jquery-ui-1.12.1.custom/external/jquery/jquery.js"></script>
<script src="jquery-ui-1.12.1.custom/jquery-ui.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script>
host = location.hostname

function updateval(object){
    object.slider('widget').parent().children("#display_value").html(object.slider('value'));
    }

function add_slider(name, max_val, step_val, value_val){
	$( "#"+name+" #slider" ).slider({
	  max: max_val,
	  step: step_val,
	  value: value_val, 
	  slide: function( event,ui ) {
		  $(this).slider('widget').parent().children("#display_value").html($(this).slider('value'));
	  },
	  change: function () {
		var send_value = $(this).slider('widget').parent().attr('id')+ ":" + $(this).slider('value');
		console.log("SENDING VALUE: "+send_value);
		var ws = new WebSocket("ws://"+host+":5555/ws");
		ws.onopen = function(event) {
			ws.send(send_value);
		}
	  }
	});
}

add_slider("timing", .01, .0001, .002);
add_slider("red_bright", 255, 1, 255);
add_slider("green_bright", 255, 1, 255);
add_slider("blue_bright", 255, 1, 255);
add_slider("red_offset", 1000, 1, 0);
add_slider("green_offset", 1000, 1, 100);
add_slider("blue_offset", 1000, 1, 200);
add_slider("min_bright", 1, 0.01, 0);
add_slider("max_bright", 1, 0.01, 1);
add_slider("mag", 10, 0.1, 1);

</script>
  </body>

</html>
 <script>
          
            // ws.onopen = function(event) {
             //  ws.send(1000);
            // }
        </script>
